<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>О книге “Refactoring” by M.Fowler &mdash; @emacsway&#39;s blog</title>
    
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/fa/css/all.min.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="@emacsway&#39;s blog" href="../../" />
  

   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />


    

        <meta http-equiv="Last-Modified" content="Sun, 01 Nov 2015 00:00:00 GMT" />
        
            <meta name="description" content="Хочу ответить на уже ставший популярным вопрос, нужно ли читать «Refactoring: Improving the Design of Existing Code» [1] если уже прочитал «Clean Code: A Handbook of Agile Software Craftsmanship» [4]?" />
        
        
            <meta property="og:image" content="../../_static/logo.jpg" />
            <link rel="image_src" href="../../_static/logo.jpg" />
        

        <link rel="canonical" href="https://emacsway.github.io/ru/refactoring-book/" />

    


  
  <link rel="alternate" type="application/atom+xml"  href="../../blog/atom.xml" title="@emacsway's blog">
  
  
  <link href="True" rel="stylesheet">
  
  <style type="text/css">
    ul.ablog-archive {list-style: none; overflow: auto; margin-left: 0px}
    ul.ablog-archive li {float: left; margin-right: 5px; font-size: 80%}
    ul.postlist a {font-style: italic;}
    ul.postlist-style-disc {list-style-type: disc;}
    ul.postlist-style-none {list-style-type: none;}
    ul.postlist-style-circle {list-style-type: circle;}
  </style>

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="refactoring-by-m-fowler">
<h1>О книге &#8220;Refactoring&#8221; by M.Fowler<a class="headerlink" href="#refactoring-by-m-fowler" title="Permalink to this headline">¶</a></h1>
<p>Хочу ответить на уже ставший популярным вопрос, нужно ли читать
«Refactoring: Improving the Design of Existing Code» <a class="footnote-reference" href="#fnr" id="id1">[1]</a>
если уже прочитал
«Clean Code: A Handbook of Agile Software Craftsmanship» <a class="footnote-reference" href="#fncc" id="id2">[4]</a>?</p>
<p>Ответ, да, нужно. И не потому, что она может быть полнее второй книги, поскольку вторая отражает опыт первой.</p>
<p>Там есть ответ на главный вопрос: <em>Нужно ли выделять время на рефакторинг и как убедить в этом руководство?</em></p>
<p>Правильный ответ, - время выделять не нужно, а убедить руководство можно и не надеяться (главы &#8220;What Do I Tell My Manager?&#8221; <a class="footnote-reference" href="#fnr" id="id3">[1]</a> и &#8220;When Should You Refactor?&#8221; <a class="footnote-reference" href="#fnr" id="id4">[1]</a>).</p>
<blockquote>
<div><p>&#8220;Конечно, многие говорят, что главное для них качество, а на самом деле главное для них – выполнение графика работ.
В таких случаях я даю несколько спорный совет: не говорите им ничего!</p>
<p>Подрывная деятельность? Не думаю. Разработчики программного обеспечения – это профессионалы.
Наша работа состоит в том, чтобы создавать эффективные программы как можно быстрее.
По моему опыту, рефакторинг значительно способствует быстрому созданию приложений.
Если мне надо добавить новую функцию, а проект плохо согласуется с модификацией,
то быстрее сначала изменить его структуру,
а потом добавлять новую функцию.
Если требуется исправить ошибку, то необходимо сначала понять, как работает программа,
и я считаю, что быстрее всего можно сделать это с помощью рефакторинга.
Руководитель, подгоняемый графиком работ, хочет, чтобы я сделал
свою работу как можно быстрее; как мне это удастся – мое дело.
Самый быстрый путь – рефакторинг, поэтому я и буду им заниматься.&#8221;</p>
<p>&#8220;Of course, many people say they are driven by quality but are more driven by schedule. In these
cases I give my more controversial advice: Don&#8217;t tell!</p>
<p>Subversive? I don&#8217;t think so. Software developers are professionals. Our job is to build effective
software as rapidly as we can. My experience is that refactoring is a big aid to building software
quickly. If I need to add a new function and the design does not suit the change, I find it&#8217;s quicker
to refactor first and then add the function. If I need to fix a bug, I need to understand how the
software works—and I find refactoring is the fastest way to do this. A schedule-driven manager
wants me to do things the fastest way I can; how I do it is my business. The fastest way is to
refactor; therefore I refactor.&#8221;
(«Refactoring: Improving the Design of Existing Code» <a class="footnote-reference" href="#fnr" id="id5">[1]</a>)</p>
</div></blockquote>
<p>Мне несколько раз доводилось быть свидетелем того, как разработчики уговаривали руководство переписать проект с нуля.
К сожалению, через несколько месяцев обычно начинал (вполне ожидаемо) загнивать уже новый код.
Призывы переписать все с нуля (если только вопрос не касается чужого кода) обычно свидетельствуют о наличии тенденции к загниванию кода.
Вместо того, чтобы изменить эту тенденцию, и просто улучшать существующий код, разработчики поддавались ошибочной иллюзии, что &#8220;теперь-то мы знаем как надо было писать&#8221;.
Если бы знали на самом деле, то эта ситуация не возникла бы.</p>
<p>Все дело в правильных привычках, благодаря которым код маленькими шажками преобразуется во время выполнения обычных тасков.
Главное, - там рассказывается, как сделать эти шаги минимальными, и парировать главный контраргумент: &#8220;если я это изменю, то полсайта сломается&#8221;.
Не сломается.
Там рассказано как изолировать изменения (глава &#8220;Problems with Refactoring&#8221; <a class="footnote-reference" href="#fnr" id="id6">[1]</a>).</p>
<blockquote>
<div><p>&#8220;Я не считаю себя замечательным программистом. Я просто хороший программист с замечательными привычками.&#8221;</p>
<p>&#8220;I&#8217;m not a great programmer; I&#8217;m just a good programmer with great habits.&#8221;
(Kent Beck) <a class="footnote-reference" href="#fnr" id="id7">[1]</a></p>
</div></blockquote>
<p>Если кто-то считает что книга уже стара, то в 2009 году в книге «Refactoring Ruby Edition» <a class="footnote-reference" href="#fnrre" id="id8">[2]</a> M.Fowler подтвердил актуальность первой книги:</p>
<blockquote>
<div>I Have the Original Book—Should I Get This?
Probably not. If you’re familiar with the original book you won’t find a lot
of new material here. You’ll need to adjust the original refactorings to the Ruby
language, but if you’re like us you shouldn’t find that an inordinate challenge.
There are a couple of reasons where we think an owner of the original book
might consider getting a copy of the Ruby edition. The first reason is if you’re
not too familiar with Java and found the original book hard to follow because
of that unfamiliarity. If so we hope you find a Ruby-focused book easier to
work with. The second reason is if you’re leading a Ruby team that has people
who would struggle with the original book’s Java focus. In that case a Ruby
book would be a better tool to help pass on your understanding of refactoring.
(«Refactoring Ruby Edition» <a class="footnote-reference" href="#fnrre" id="id9">[2]</a>)</div></blockquote>
<p>Есть один момент, - чтобы ее читать, нужно знать «Design Patterns: Elements of Reusable Object-Oriented Software» <a class="footnote-reference" href="#fngof" id="id10">[5]</a> и «Patterns of Enterprise Application Architecture» <a class="footnote-reference" href="#fnpoeaa" id="id11">[6]</a>, иначе будет сложно понимать.</p>
<p>Единственная проблема, из-за которой рефакторинг часто не практикуется - это отсутствие единого мнения в команде на расслоение архитектуры и распределение обязанностей классов.
Из-за чего сложно проводить маленькие шажки, так как другой разработчик на полдороге может совершить маленькие шажки в другую сторону.
Эти вопросы M.Fowler тоже рассматривает, как согласовать мнение всех разработчиков (главы &#8220;Refactor As You Do a Code Review&#8221; <a class="footnote-reference" href="#fnr" id="id12">[1]</a> и &#8220;Refactoring Safely&#8221; <a class="footnote-reference" href="#fnr" id="id13">[1]</a>).</p>
<div class="section" id="id14">
<h2>Систематизированные каталоги<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h2>
<p>Я помню, как пол-вечера объяснял одному коллеге, почему метод, перенасыщенный условиями проверки кода типа, нужно заменить полиморфизмом.
А можно было просто дать ссылку на пример из каталога рефакторингов &#8220;<a class="reference external" href="http://www.refactoring.com/catalog/replaceConditionalWithPolymorphism.html">Replace Conditional with Polymorphism</a>&#8221;.
Тут же, на странице примера указан номер страницы книги, на которой можно найти детальную информацию.</p>
<p>Подобные систематизированные каталоги способны значительно сократить время затрачиваемое на Code Review.
Достаточно просто оставить сноску, чтобы разработчик знал где получить исчерпывающую информацию.
Эти каталоги учать разработчиков понимать друг друга &#8220;с полуслова&#8221;.</p>
<div class="section" id="id15">
<h3>Каталоги критериев качества кода и методов его улучшения<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>&#8220;<a class="reference external" href="http://www.refactoring.com/catalog/">Catalog of Refactorings</a>&#8221; на <a class="reference external" href="http://www.refactoring.com/">http://www.refactoring.com/</a> из книг «Refactoring: Improving the Design of Existing Code» <a class="footnote-reference" href="#fnr" id="id16">[1]</a> и «Refactoring Ruby Edition» <a class="footnote-reference" href="#fnrre" id="id17">[2]</a>.</li>
<li>Каталог &#8220;запахов&#8221; кода и эвристических правил &#8220;Smells and Heuristics&#8221; из книги «Clean Code: A Handbook of Agile Software Craftsmanship» <a class="footnote-reference" href="#fncc" id="id18">[4]</a>.</li>
<li>«Refactoring To Patterns» <a class="footnote-reference" href="#fnrtp" id="id19">[3]</a></li>
<li><a class="reference external" href="http://c2.com/cgi/wiki?CodeSmell">Code Smell</a>.</li>
</ol>
</div>
<div class="section" id="id20">
<h3>Базовые каталоги паттернов<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>«Design Patterns: Elements of Reusable Object-Oriented Software» <a class="footnote-reference" href="#fngof" id="id21">[5]</a> - паттерны проектирования.</li>
<li>&#8220;<a class="reference external" href="http://martinfowler.com/eaaCatalog/">Catalog of Patterns of Enterprise Application Architecture</a>&#8221; из книги «Patterns of Enterprise Application Architecture» <a class="footnote-reference" href="#fnpoeaa" id="id22">[6]</a> - архитектурные паттерны.</li>
<li>«Pattern-Oriented Software Architecture Volume (POSA)» 5-volume edition by Buschmann, Meunier, Rohnert, Sommerlad, and Sta.</li>
<li>«Pattern-Oriented Software Architecture (known as POSA) by Buschmann, Meunier, Rohnert, Sommerlad, and Sta.</li>
<li>«Enterprise Integration Patterns» by Hohpe and Woolf.</li>
<li>«The Design of Sites: Patterns, Principles, and Processes for Crafting a Customer-Centered Web Experience» by Duyne, Landay, and Hong.</li>
<li>«xUnit Test Patterns. Refactoring Test Code.» by Gerard Meszaros <a class="footnote-reference" href="#xutp" id="id23">[7]</a>.</li>
</ol>
<p>Систематизированная форма этих знаний легко входит в привычку, и может сделать работу всей команды согласованной при наименьших затратах времени.</p>
<blockquote>
<div><p>&#8220;В основной книге «банды четырех» сказано, что «паттерны проектирования... предоставляют объекты для проведения рефакторинга».
Существует естественная связь между паттернами и рефакторингом.
Паттерны представляют собой цели; рефакторинг дает методы их достижения.&#8221;</p>
<p>&#8220;As the essential Gang of Four book says, &#8220;Design Patterns ... provide targets for your refactorings.&#8221;
There is a natural relation between patterns and refactorings.
Patterns are where you want to be; refactorings are ways to get there from somewhere else.&#8221;
(«Refactoring: Improving the Design of Existing Code» <a class="footnote-reference" href="#fnr" id="id24">[1]</a>)</p>
</div></blockquote>
</div>
</div>
<div class="section" id="id25">
<h2>Философия рефакторинга<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h2>
<p>Одно правило мне показалось особенно важным для наших, славянских ребят (включая меня), которые нередко увлекаются поиском совершенства в коде.
Поэтому я решил его процитировать:</p>
<blockquote>
<div><p>&#8220;До введения рефакторинга в свою работу я всегда искал гибкие решения.
Для каждого технического требования я рассматривал возможности его изменения в течение срока жизни системы.
Поскольку изменения в проекте были дорогостоящими, я старался создать проект, способный выдержать изменения, которые я мог предвидеть.
Недостаток гибких решений в том, что за гибкость приходится платить.
Гибкие решения сложнее обычных.
Создаваемые по ним программы в целом труднее сопровождать, хотя и легче перенацеливать в том направлении, которое предполагалось изначально.
И даже такие решения не избавляют от необходимости разбираться, как модифицировать проект.
Для одной двух функций это сделать не очень трудно, но изменения происходят по всей системе.
Если предусматривать гибкость во всех этих местах, то вся система становится значительно сложнее и дороже в сопровождении.
Весьма разочаровывает, конечно, то, что вся эта гибкость и не нужна.
Потребуется лишь какая то часть ее, но невозможно заранее сказать какая.</p>
<p>Чтобы достичь гибкости, приходится вводить ее гораздо больше, чем требуется в действительности.
Рефакторинг предоставляет другой подход к рискам модификации.
Возможные изменения все равно надо пытаться предвидеть, как и рассматривать гибкие решения.
Но вместо реализации этих гибких решений следует задаться вопросом:
«Насколько сложно будет с помощью рефакторинга преобразовать обычное решение в гибкое?»
Если, как чаще всего случается, ответ будет «весьма несложно», то надо просто реализовать обычное решение.</p>
<p>Рефакторинг позволяет создавать более простые проекты, не жертвуя гибкостью,
благодаря чему процесс проектирования становится более легким и менее напряженным.
Научившись в целом распознавать то, что легко поддается рефакторингу, о гибкости решений даже перестаешь задумываться.
Появляется уверенность в возможности применения рефакторинга, когда это понадобится.
Создаются самые простые решения, которые могут работать, а гибкие и сложные решения по большей части не потребуются.&#8221;</p>
<p>&#8220;Before I used refactoring, I always looked for flexible solutions. With any requirement I would
wonder how that requirement would change during the life of the system. Because design
changes were expensive, I would look to build a design that would stand up to the changes I
could foresee. The problem with building a flexible solution is that flexibility costs. Flexible
solutions are more complex than simple ones. The resulting software is more difficult to maintain
in general, although it is easier to flex in the direction I had in mind. Even there, however, you
have to understand how to flex the design. For one or two aspects this is no big deal, but
changes occur throughout the system. Building flexibility in all these places makes the overall
system a lot more complex and expensive to maintain. The big frustration, of course, is that all
this flexibility is not needed. Some of it is, but it&#8217;s impossible to predict which pieces those are. To
gain flexibility, you are forced to put in a lot more flexibility than you actually need.</p>
<p>With refactoring you approach the risks of change differently. You still think about potential
changes, you still consider flexible solutions. But instead of implementing these flexible solutions,
you ask yourself, &#8220;How difficult is it going to be to refactor a simple solution into the flexible
solution?&#8221; If, as happens most of the time, the answer is &#8220;pretty easy,&#8221; then you just implement
the simple solution.</p>
<p>Refactoring can lead to simpler designs without sacrificing flexibility. This makes the design
process easier and less stressful. Once you have a broad sense of things that refactor easily, you
57don&#8217;t even think of the flexible solutions. You have the confidence to refactor if the time comes.
You build the simplest thing that can possibly work. As for the flexible, complex design, most of
the time you aren&#8217;t going to need it.&#8221;
(«Refactoring: Improving the Design of Existing Code» <a class="footnote-reference" href="#fnr" id="id26">[1]</a>)</p>
</div></blockquote>
<p>Если подрезюмировать, - то ценность должен представлять не завершенный код, а те принципы, которые позволяют сделать его завершенным.
Это как в физике.
Важна не скорость, а ее производная, - ускорение, т.е. то, что создает скорость.
Важно не количество энтропии в конкретном месте, а сила, создающая порядок.
Важно не конкретное решение, а используемые подходы.
Важен не частный случай, а общее понятие.</p>
<p>Тут уместно упомянуть еще:</p>
<blockquote>
<div><p>&#8220;Однако мы часто забываем, что принятие решений лучше всего откладывать до последнего момента.
Дело не в лени или безответственности;
просто это позволяет принять информированное решение с максимумом возможной информации.
Преждевременное решение принимается на базе неполной информации.
Принимая решение слишком рано, мы лишаемся всего полезного, что происходит на более поздних стадиях:
обратной связи от клиентов, возможности поразмышлять над текущим состоянием проекта и опыта применения решений из области реализации.&#8221;</p>
<p>&#8220;We often forget that it is also best to postpone decisions until the last possible moment.
This isn’t lazy or irresponsible; it lets us make informed choices with the best possible information.
A premature decision is a decision made with suboptimal knowledge. We will have that
much less customer feedback, mental reflection on the project, and experience with our
implementation choices if we decide too soon.&#8221;
(«Clean Code: A Handbook of Agile Software Craftsmanship» <a class="footnote-reference" href="#fncc" id="id27">[4]</a>)</p>
</div></blockquote>
<p>См. также &#8220;Speculative Generality&#8221; <a class="footnote-reference" href="#fnr" id="id28">[1]</a>.</p>
</div>
<div class="section" id="id29">
<h2>Чистота кода кроется в его честности<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h2>
<p>Следующая фраза заставила меня по новому взглянуть на определение &#8220;чистого кода&#8221;:</p>
<blockquote>
<div><p>&#8220;Потратив немного времени на рефакторинг, можно добиться того, что код станет лучше информировать о своей цели. В таком режиме суть программирования состоит в том, чтобы точно сказать, что вы имеете в виду.&#8221;</p>
<p>&#8220;A little time spent refactoring can make the code better communicate its purpose. Programming in this mode is all about saying exactly what you mean.&#8221;
(«Refactoring: Improving the Design of Existing Code» <a class="footnote-reference" href="#fnr" id="id30">[1]</a>)</p>
</div></blockquote>
<p>Я пришел к умозаключению, что стремление к чистому коду - это стремление к истине, и предотвращение лжи.
Основная проблема запутанного кода - введение в заблуждение.
Возможность ложного трактования - его единственная проблема.
Чистый код выражает о себе точную и правдивую информацию.
Чистый код - это способ достижения (или постижения) истины.</p>
<p><strong>Чистота кода - это способность кода выражать о себе правду, а не вводить в заблуждение.</strong></p>
<p>Задача рефакторинга - обеспечить возможность легко понимать и изменять код.</p>
<p>Я также по новому взглянул на определение красоты.
Красота - это, на самом деле, простота, когда нет ничего лишнего.
Вообразите легковой автомобиль с колесами от трактора МТЗ, которые, мягко говоря, излишни и по габаритам, и по назначению.
Красиво?
Кто-то красиво сказал, что идеал - это когда нечего добавить, и нечего отнять.</p>
<p>Удивительно, но суть честности тоже заключается в простоте, - чтобы освободиться от всего лишнего, ненужного, и оставить только то, что действительно имеет значение.
Эти слова и отличаются-то всего двумя буквами, &#8220;чистый&#8221; и &#8220;чЕстНый&#8221;.
Ненужность лжи кроется в ее бесполезности, и даже вредности, - она отнимает ресурсы.
Она не нужна.
Поэтому она портит красоту кода и отнимает эффективность.
Robert C. Martin в книге «Clean Code: A Handbook of Agile Software Craftsmanship» <a class="footnote-reference" href="#fncc" id="id31">[4]</a> много говорит о лжи в коде, и как от нее освободиться.</p>
<p>Представьте себе работу литературного переводчика, который не смог передать литературные художественные образы на другой язык.
Программы тоже являются языком, пусть и языком программирования.
Это не значит, что их будут читать только интерпритаторы и компиляторы.
Другие разработчики, и, наиболее вероятно, Вы сами, будете их читать.
И если образы неясные, - они порождают ложные представления.
Даже в процессе кодинга мы основную часть времени читаем код, и лишь незначительную часть - нажимаем на клавиатуру.</p>
<blockquote>
<div><p>&#8220;На самом деле соотношение времени чтения и написания кода превышает 10:1.
Мы постоянно читаем свой старый код, поскольку это необходимо для написания нового кода.
Из-за столь высокого соотношения наш код должен легко читаться, даже если это затрудняет его написание.
Конечно, написать код, не прочитав его, невозможно, так что упрощение чтения в действительности упрощает и написание кода.
Уйти от этой логики невозможно.
Невозможно написать код без предварительного чтения окружающего кода.
Код, который вы собираетесь написать сегодня, будет легко или тяжело читаться в зависимости от того, насколько легко или тяжело читается окружающий код.
Если вы хотите быстро справиться со своей задачей, если вы хотите, чтобы ваш код было легко писать — позаботьтесь о том, чтобы он легко читался.&#8221;</p>
<p>&#8220;Indeed, the ratio of time spent reading vs. writing is well over 10:1. We are constantly reading old code as part of the effort to write new code.
Because this ratio is so high, we want the reading of code to be easy, even if it makes the writing harder.
Of course there’s no way to write code without reading it, so making it easy to read actually makes it easier to write.
There is no escape from this logic.
You cannot write code if you cannot read the surrounding code.
The code you are trying to write today will be hard or easy to write depending on how hard or easy the surrounding code is to read.
So if you want to go fast, if you want to get done quickly, if you want your code to be easy to write, make it easy to read.&#8221;
(«Clean Code: A Handbook of Agile Software Craftsmanship» <a class="footnote-reference" href="#fncc" id="id32">[4]</a>)</p>
</div></blockquote>
<p>Принцип простоты вылился в целое философское направление <a class="reference external" href="https://en.wikipedia.org/wiki/KISS_principle">KISS principle</a>.</p>
<p>Деятельность программиста во многом напоминает мне работу скульптора.
Нужно увидеть образ, и отсечь от него все лишнее.
Освободить образ, проявить его, т.е. явить его в явь.</p>
</div>
<div class="section" id="id33">
<h2>Тестирование очищает код<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h2>
<p>Все просто. Класс, который делает слишком много и имеет жесткие привязки, сложнее тестировать.
Класс, соответствующий &#8220;<a class="reference external" href="https://en.wikipedia.org/wiki/Single_responsibility_principle">Single responsibility principle</a>&#8221;, легче тестировать.
См. &#8220;Simple Design Rule 1: Runs All the Tests&#8221; <a class="footnote-reference" href="#fncc" id="id34">[4]</a>.</p>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="fnr" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id3">2</a>, <a class="fn-backref" href="#id4">3</a>, <a class="fn-backref" href="#id5">4</a>, <a class="fn-backref" href="#id6">5</a>, <a class="fn-backref" href="#id7">6</a>, <a class="fn-backref" href="#id12">7</a>, <a class="fn-backref" href="#id13">8</a>, <a class="fn-backref" href="#id16">9</a>, <a class="fn-backref" href="#id24">10</a>, <a class="fn-backref" href="#id26">11</a>, <a class="fn-backref" href="#id28">12</a>, <a class="fn-backref" href="#id30">13</a>)</em> «<a class="reference external" href="http://martinfowler.com/books/refactoring.html">Refactoring: Improving the Design of Existing Code</a>» by <a class="reference external" href="http://martinfowler.com/">Martin Fowler</a>, Kent Beck, John Brant, William Opdyke, Don Roberts</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="fnrre" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[2]</td><td><em>(<a class="fn-backref" href="#id8">1</a>, <a class="fn-backref" href="#id9">2</a>, <a class="fn-backref" href="#id17">3</a>)</em> «<a class="reference external" href="http://martinfowler.com/books/refactoringRubyEd.html">Refactoring Ruby Edition</a>» by Jay Fields, Shane Harvie, <a class="reference external" href="http://martinfowler.com/">Martin Fowler</a>, Kent Beck</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="fnrtp" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id19">[3]</a></td><td>«<a class="reference external" href="http://martinfowler.com/books/r2p.html">Refactoring To Patterns</a>» Joshua Kerievsky</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="fncc" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[4]</td><td><em>(<a class="fn-backref" href="#id2">1</a>, <a class="fn-backref" href="#id18">2</a>, <a class="fn-backref" href="#id27">3</a>, <a class="fn-backref" href="#id31">4</a>, <a class="fn-backref" href="#id32">5</a>, <a class="fn-backref" href="#id34">6</a>)</em> «<a class="reference external" href="http://www.informit.com/store/clean-code-a-handbook-of-agile-software-craftsmanship-9780132350884">Clean Code: A Handbook of Agile Software Craftsmanship</a>» <a class="reference external" href="http://informit.com/martinseries">Robert C. Martin</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="fngof" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[5]</td><td><em>(<a class="fn-backref" href="#id10">1</a>, <a class="fn-backref" href="#id21">2</a>)</em> «Design Patterns: Elements of Reusable Object-Oriented Software» by Erich Gamma, Richard Helm, Ralph Johnson, John Vlissides</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="fnpoeaa" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[6]</td><td><em>(<a class="fn-backref" href="#id11">1</a>, <a class="fn-backref" href="#id22">2</a>)</em> «Patterns of Enterprise Application Architecture» by Martin Fowler, David Rice, Matthew Foemmel, Edward Hieatt, Robert Mee, Randy Stafford</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="xutp" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id23">[7]</a></td><td>«<a class="reference external" href="https://martinfowler.com/books/meszaros.html">xUnit Test Patterns. Refactoring Test Code.</a>» by Gerard Meszaros</td></tr>
</tbody>
</table>
</div>
</div>

  <div class="section">
  
    


<div class="section">
  <span style="float: left;">
  
  
  <a href="../flag-arguments/">
    <i class="fa fa-arrow-circle-left"></i>
    Аргументы-флаги
  </a>
  
  </span>
  <span>&nbsp;</span>
  <span style="float: right;">
  
  
  <a href="../build-raw-sql-by-storm-orm/">
    Построение Raw-SQL cредствами Storm-ORM
    <i class="fa fa-arrow-circle-right"></i>
  </a>
  </span>
  
</div>

  
  
    <div class="section">
    <h2>Comments</h2>
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'emacsway';
        var disqus_identifier = '/ru/refactoring-book/';
        var disqus_title = 'О книге &amp;#8220;Refactoring&amp;#8221; by M.Fowler';
        var disqus_url = 'https://emacsway.github.io/ru/refactoring-book/';

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
  
  </div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../../">
    <img class="logo" src="../../_static/logo.jpg" alt="Logo"/>
    
    <h1 class="logo logo-name">@emacsway's blog</h1>
    
  </a>
</p>









  
  
  <h2>
  
  <i class="fa fa-calendar"></i>
    Nov 01, 2015
  
  </h2>

  <ul>
    

  
  <li><i class="fa-fw fa fa-user"></i>
    
      
      <a href="../../blog/author/ivan-zakrevsky/">Ivan Zakrevsky</a>
      
    </li>
  

  

  
  <li><i class="fa-fw fa fa-language"></i>
    
      
      <a href="../../blog/language/russian/">Russian</a>
      
    </li>
  

  

  
  <li><i class="fa-fw fa fa-tags"></i>
      
    
      
      <a href="../../blog/tag/python/">Python</a>,
      
    
      
      <a href="../../blog/tag/refactoring/">Refactoring</a>,
      
    
      
      <a href="../../blog/tag/fowler/">Fowler</a>
      
    </li>
  
  
  <li>
    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'emacsway'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
    </script>
    <i class="fa-fw fa fa-comments"></i>
    <a href="#disqus_thread" data-disqus-identifier="/ru/refactoring-book/"> </a>
  </li>
  
  </ul>


<h3>Navigation</h3>
<ul class="simple">
</ul>


<ul>
    
    <li class="toctree-l1"><a href="https://t.me/emacsway_log"><i class="fab fa-telegram"></i> Telegram</a></li>
    
</ul>

  <h3><a href="../../blog/">Recent Posts</a></h3>
  <ul>
    
    
      <li><a href="../it/agile/crash-course-in-software-development-economics/">May 05 - Краткий курс по экономике разработки программного обеспечения</a></li>
    
      <li><a href="../soft-skills/psychological-effects/">May 04 - Список психологических эффектов</a></li>
    
      <li><a href="../cqrs-command-and-result/">Apr 02 - Может ли CQRS-команда возвращать результат?</a></li>
    
      <li><a href="../message-ordering-in-competing-consumers/">Mar 31 - О гонке сообщений в условиях конкурирующих подписчиков</a></li>
    
      <li><a href="../domain-events-in-ddd/">May 05 - Domain Events in DDD</a></li>
    
  </ul>

  <h3><a href="../../blog/tag/">Tags</a></h3>
  <style type="text/css">
    ul.ablog-cloud {list-style: none; overflow: auto;}
    ul.ablog-cloud li {float: left; height: 20pt; line-height: 18pt; margin-right: 5px;}
    ul.ablog-cloud a {text-decoration: none; vertical-align: middle;}
    li.ablog-cloud-1{font-size: 80%;}
    li.ablog-cloud-2{font-size: 95%;}
    li.ablog-cloud-3{font-size: 110%;}
    li.ablog-cloud-4{font-size: 125%;}
    li.ablog-cloud-5{font-size: 140%;}
  </style>
  <ul class="ablog-cloud">
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/agile/">Agile</a></li>
      
    
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/angular/">Angular</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/autocomplete/">Autocomplete</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-2">
        <a href="../../blog/tag/cqrs/">CQRS</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/cqs/">CQS</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/cache/">Cache</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/career/">Career</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/clean-architecture/">Clean Architecture</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/clean-code/">Clean Code</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/communication/">Communication</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-2">
        <a href="../../blog/tag/db/">DB</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-4">
        <a href="../../blog/tag/ddd/">DDD</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-2">
        <a href="../../blog/tag/datamapper/">DataMapper</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/dependency-injection/">Dependency Injection</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/distributed-systems/">Distributed Systems</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/django/">Django</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-3">
        <a href="../../blog/tag/django-model/">Django Model</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/docker/">Docker</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/eip/">EIP</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/economics/">Economics</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/emacs/">Emacs</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-2">
        <a href="../../blog/tag/event-sourcing/">Event Sourcing</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/event-driven/">Event-Driven</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-2">
        <a href="../../blog/tag/extreme-programming/">Extreme Programming</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/flux/">Flux</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/fowler/">Fowler</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/functional-programming/">Functional Programming</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/hr/">HR</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/hiring/">Hiring</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/javascript/">JavaScript</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/management/">Management</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/microservices/">Microservices</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-4">
        <a href="../../blog/tag/model/">Model</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/oop/">OOP</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-5">
        <a href="../../blog/tag/orm/">ORM</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/programming/">Programming</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-4">
        <a href="../../blog/tag/python/">Python</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/redux/">Redux</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-2">
        <a href="../../blog/tag/refactoring/">Refactoring</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/repository/">Repository</a></li>
      
    
      
    
      
      <li class="ablog-cloud ablog-cloud-2">
        <a href="../../blog/tag/sql/">SQL</a></li>
      
    
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/scrum/">Scrum</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/service-layer/">Service Layer</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/soft-skills/">Soft Skills</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-4">
        <a href="../../blog/tag/software-architecture/">Software Architecture</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/software-construction/">Software Construction</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/software-design/">Software Design</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/storm-orm/">Storm ORM</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/tdd/">TDD</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-2">
        <a href="../../blog/tag/xp/">XP</a></li>
      
    
      
    
  </ul>

  <h3><a href="../../blog/archive/">Archives</a></h3>
  <ul>
  
    
    <li><a href="../../blog/2021/">2021 (4)</a></li>
    
  
    
    <li><a href="../../blog/2020/">2020 (1)</a></li>
    
  
    
    <li><a href="../../blog/2019/">2019 (2)</a></li>
    
  
    
    <li><a href="../../blog/2018/">2018 (4)</a></li>
    
  
    
    <li><a href="../../blog/2017/">2017 (9)</a></li>
    
  
    
    <li><a href="../../blog/2016/">2016 (5)</a></li>
    
  
    
    <li><a href="../../blog/2015/">2015 (6)</a></li>
    
  
  </ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
      &copy;2021, Ivan Zakrevsky.
      
      |
      Powered by <a href="http://ablog.readthedocs.org/">ABlog</a> &amp; <a href="http://sphinx-doc.org/">Sphinx 1.4.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.8</a>
      
      |
      <a href="../../_sources/ru/refactoring-book.txt"
          rel="nofollow">Page source</a>
    </div>

    

    


    

        <!-- Go to www.addthis.com/dashboard to customize your tools -->
        <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-597ba7fb5af2ef1e"></script>

    


<!-- google.com/analytics counter -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69288289-1', 'auto');
  ga('send', 'pageview');

</script>
<!-- /google.com/analytics counter -->


<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
            try {
                w.yaCounter32948409 = new Ya.Metrika({
                    id:32948409,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true
                });
            } catch(e) { }
        });

        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () { n.parentNode.insertBefore(s, n); };
        s.type = "text/javascript";
        s.async = true;
        s.src = "https://mc.yandex.ru/metrika/watch.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else { f(); }
    })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/32948409" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->



  </body>
</html>